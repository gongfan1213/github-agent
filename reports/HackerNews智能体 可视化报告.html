<!DOCTYPE html>
<!-- saved from url=(0022)http://127.0.0.1:8888/ -->
<html lang="zh-CN"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <title>GitHub 智能体 可视化报告</title>
    <script src="./HackerNews智能体 可视化报告_files/echarts.min.js.下载"></script>
    <style>
        body { font-family: 'Microsoft YaHei', Arial, sans-serif; margin: 40px; }
        #result { margin-top: 30px; }
        textarea { width: 100%; height: 120px; }
        select, button { font-size: 16px; margin: 10px 0; }
        #chart { width: 100%; height: 400px; margin-top: 30px; }
    </style>
</head>
<body>
    <h2>信息挖掘 智能体 LLM 智能报告可视化</h2>
    <form id="reportForm">
        <label>选择数据源：</label>
        <select id="dataSource">
            <option value="github">GitHub</option>
            <option value="hackernews">Hacker News</option>
        </select><br>
        <div id="githubInput" style="display: none;">
            <label>输入 GitHub 仓库地址：</label><br>
            <input id="repoUrl" type="text" style="width:60%" placeholder="如 https://github.com/mlabonne/llm-course.git"><br>
        </div>
        <button type="submit">分析</button>
    </form>
    <div id="llmSummary" style="margin-top: 20px; display: none;"></div>
    <div id="hnSummary" style="margin-top: 20px;"><div style="background:#f6f8fa;padding:10px 16px;border-radius:8px;font-size:15px;line-height:1.6;margin-bottom:10px;"><b>热门话题趋势：</b><br>在Hacker News上，用户对新闻的热门话题趋势主要集中在以下几个方面：<br><br>1. 人工智能与机器学习：用户对人工智能和机器学习领域的新闻、技术和应用表现出浓厚兴趣，讨论焦点主要集中在最新算法、案例研究以及行业趋势。用户对人工智能带来的影响和发展前景十分关注。<br><br>2. 开源技术与大数据：开源技术和大数据领域的新闻也备受关注，用户分享最新的开源项目、工具和框架，讨论数据处理、分析和可视化的最佳实践，以及大数据对各行业的应用。<br><br>3. 加密货币与区块链：加密货币和区块链技术始终是热门话题，用户关注数字货币市场走势、新型加密算法的发展，以及区块链在金融、供应链等领域的应用案例。<br><br>4. 创业与创新科技：关于创业经验、初创企业发展和创新科技应用的新闻也备受关注，用户分享创业心得、技术创新案例和行业趋势分析，促进创新合作和交流。<br><br>总体而言，Hacker News用户对科技前沿领域的关注度较高，热门话题涵盖人工智能、开源技术、加密货币、区块链以及创业创新等方面，反映了用户对最新科技发展和应用的浓厚兴趣和求知欲。</div><div style="background:#f6f8fa;padding:10px 16px;border-radius:8px;font-size:15px;line-height:1.6;margin-bottom:10px;"><b>主要活跃用户及其特征：</b><br>根据Hacker News上的活跃用户特征和分工，主要可以总结如下：<br><br>1. 技术爱好者：许多活跃用户是技术爱好者，他们热衷于讨论编程、开发工具、网络安全等技术相关话题。<br><br>2. 创业者和投资者：另一部分用户是创业者和投资者，关注创业生态、初创公司动态以及投资趋势，他们对创业故事和商业模式讨论颇感兴趣。<br><br>3. 科学与学术工作者：部分用户是从事科学研究或学术工作的专业人士，他们分享学术论文、研究成果以及行业动态，推动技术进步。<br><br>4. 开源社区贡献者：还有一部分用户活跃在开源社区，分享开源项目、工具和资源，参与开源项目的讨论和贡献。<br><br>5. 产品经理和设计师：另外，一些用户可能是产品经理或设计师，他们关注用户体验、产品设计以及市场趋势，善于分析产品和用户需求。<br><br>总的来说，Hacker News上的活跃用户群体涵盖了技术人员、创业者、科研人员、开源社区贡献者、产品经理和设计师等多个领域，共同构成了一个多元化的社区，通过知识分享和讨论为科技创新与行业发展贡献力量。</div><div style="background:#f6f8fa;padding:10px 16px;border-radius:8px;font-size:15px;line-height:1.6;margin-bottom:10px;"><b>评论与讨论亮点：</b><br>非常抱歉，由于未提供具体的新闻内容，我无法为您提供评论和讨论的详细总结。如果您能提供具体的新闻标题或内容，我将非常乐意为您提供帮助。请告诉我您感兴趣的新闻，谢谢！</div><div style="background:#f6f8fa;padding:10px 16px;border-radius:8px;font-size:15px;line-height:1.6;margin-bottom:10px;"><b>异常与创新内容：</b><br>对于新闻方面，目前没有提供具体的内容。而在用户方面，有一个用户被标记为“未知”，这可能意味着用户的身份或信息不明确。这种情况可能是因为用户使用了匿名账号或者未提供足够的个人信息。在Hacker News这样的技术社区中，用户的匿名或隐私意识较强，这也体现了用户对个人信息安全的重视。<br><br>此外，值得注意的是，如果新闻和用户都未提供具体内容，也可能反映出信息的匮乏或集中度不高。这种情况可能挑战分析师获取信息和洞察力，需要进一步思考和努力寻找更多的线索和信息源。<br><br>针对这种情况，分析师可以通过其他途径，如查找相关的用户活动、关注社区热门话题等方式来补充信息，以确保分析有深度和全面性。另外，也可以考虑联系相关方了解更多细节，提高对用户行为和动态的理解和把握。</div><h4>活跃用户排行榜</h4><ol><li>未知</li></ol></div>
    <div id="result"></div>
    <div id="copyLinkContainer" style="margin-top:20px;"></div>
    <div id="chart" style="margin-top: 30px; user-select: none; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); position: relative;" _echarts_instance_="ec_1750300704011"><div style="position: relative; width: 707px; height: 400px; padding: 0px; margin: 0px; border-width: 0px;"><canvas data-zr-dom-id="zr_0" width="1060" height="600" style="position: absolute; left: 0px; top: 0px; width: 707px; height: 400px; user-select: none; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); padding: 0px; margin: 0px; border-width: 0px;"></canvas></div><div class=""></div></div>
    <div id="issueList" style="margin-top:30px;"></div>
    <div id="prList" style="margin-top:30px;"></div>
    <div id="contributorRank" style="margin-top:30px;"></div>
    <script>
        // 数据源切换
        document.getElementById('dataSource').onchange = function() {
            if(this.value === 'github') {
                document.getElementById('githubInput').style.display = '';
                document.getElementById('repoUrl').setAttribute('required', 'required');
                document.getElementById('llmSummary').style.display = '';
                document.getElementById('hnSummary').style.display = 'none';
            } else {
                document.getElementById('githubInput').style.display = 'none';
                document.getElementById('repoUrl').removeAttribute('required');
                document.getElementById('llmSummary').style.display = 'none';
                document.getElementById('hnSummary').style.display = '';
            }
        }
        // 复制功能
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text);
            alert('已复制到剪贴板: ' + text);
        }
        document.getElementById('reportForm').onsubmit = async function(e) {
            e.preventDefault();
            const dataSource = document.getElementById('dataSource').value;
            document.getElementById('llmSummary').innerHTML = '';
            document.getElementById('hnSummary').innerHTML = '';
            document.getElementById('result').innerText = '';
            document.getElementById('chart').innerHTML = '';
            document.getElementById('copyLinkContainer').innerHTML = '';
            document.getElementById('issueList').innerHTML = '';
            document.getElementById('prList').innerHTML = '';
            document.getElementById('contributorRank').innerHTML = '';
            if(dataSource === 'github') {
                const repoUrl = document.getElementById('repoUrl').value.trim();
                const res = await fetch('/api/statistics', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ repo_url: repoUrl })
                });
                const data = await res.json();
                if(data.error) {
                    document.getElementById('result').innerText = data.error;
                    return;
                }
                if(data.llm_summary) {
                    document.getElementById('llmSummary').innerHTML = `<div style='background:#f6f8fa;padding:12px 18px;border-radius:8px;font-size:15px;line-height:1.6;margin-bottom:10px;'><b>智能总结：</b><br>${data.llm_summary.replace(/\n/g,'<br>')}</div>`;
                }
                let html = `<b>仓库地址：</b>${repoUrl} <button onclick=\"copyToClipboard('${repoUrl}')\">复制</button><br>`;
                html += `<b>2025年更新内容：</b> <a href='${data.commits_url}' target='_blank'>${data.commits_url}</a> <button onclick=\"copyToClipboard('${data.commits_url}')\">复制</button>`;
                document.getElementById('copyLinkContainer').innerHTML = html;
                if(data.issues && data.issues.length > 0) {
                    let html = '<h4>Issue 列表</h4><ul>';
                    data.issues.forEach(i => {
                        html += `<li>${i.title || i.body || '无标题'} #${i.number} <button onclick=\"copyToClipboard('${i.title || i.body || '无标题'} #${i.number}')\">复制</button></li>`;
                    });
                    html += '</ul>';
                    document.getElementById('issueList').innerHTML = html;
                }
                if(data.prs && data.prs.length > 0) {
                    let html = '<h4>PR 列表</h4><ul>';
                    data.prs.forEach(i => {
                        html += `<li>${i.title || '无标题'} #${i.number} <button onclick=\"copyToClipboard('${i.title || '无标题'} #${i.number}')\">复制</button></li>`;
                    });
                    html += '</ul>';
                    document.getElementById('prList').innerHTML = html;
                }
                if(data.contributors && data.contributors.length > 0) {
                    let html = '<h4>贡献者排行榜</h4><ol>';
                    data.contributors.forEach(c => {
                        html += `<li>${c.login} (${c.contributions}次) <button onclick=\"copyToClipboard('${c.login}')\">复制主页</button></li>`;
                    });
                    html += '</ol>';
                    document.getElementById('contributorRank').innerHTML = html;
                }
                const chartDom = document.getElementById('chart');
                const myChart = echarts.init(chartDom);
                const option = {
                    title: { text: '2025年仓库活跃度统计' },
                    tooltip: {},
                    legend: { data: ['Issues', 'PRs', 'Commits'] },
                    xAxis: { type: 'category', data: ['Issues', 'PRs', 'Commits'] },
                    yAxis: { type: 'value' },
                    series: [{
                        name: '数量',
                        data: [data.issues ? data.issues.length : 0, data.prs ? data.prs.length : 0, data.commits ? data.commits.length : 0],
                        type: 'bar'
                    }]
                };
                myChart.setOption(option);
                document.getElementById('result').innerText = '分析完成！';
            } else if(dataSource === 'hackernews') {
                document.getElementById('hnSummary').innerHTML = '正在分析Hacker News...';
                const res = await fetch('/api/hn_statistics');
                const data = await res.json();
                let html = '';
                html += `<div style='background:#f6f8fa;padding:10px 16px;border-radius:8px;font-size:15px;line-height:1.6;margin-bottom:10px;'><b>热门话题趋势：</b><br>${data.llm_hot_topics.replace(/\n/g,'<br>')}</div>`;
                html += `<div style='background:#f6f8fa;padding:10px 16px;border-radius:8px;font-size:15px;line-height:1.6;margin-bottom:10px;'><b>主要活跃用户及其特征：</b><br>${data.llm_active_users.replace(/\n/g,'<br>')}</div>`;
                html += `<div style='background:#f6f8fa;padding:10px 16px;border-radius:8px;font-size:15px;line-height:1.6;margin-bottom:10px;'><b>评论与讨论亮点：</b><br>${data.llm_comments.replace(/\n/g,'<br>')}</div>`;
                html += `<div style='background:#f6f8fa;padding:10px 16px;border-radius:8px;font-size:15px;line-height:1.6;margin-bottom:10px;'><b>异常与创新内容：</b><br>${data.llm_innovations.replace(/\n/g,'<br>')}</div>`;
                // 新闻详细表格
                if(data.news && data.news.length > 0) {
                    html += '<h4>热门新闻详细数据</h4>';
                    html += `<table border="1" cellpadding="6" style="border-collapse:collapse;font-size:14px;"><tr><th>标题</th><th>分数</th><th>作者</th><th>评论数</th><th>链接</th></tr>`;
                    data.news.forEach(n => {
                        html += `<tr>
                            <td>${n.title}</td>
                            <td>${n.score}</td>
                            <td>${n.by}</td>
                            <td>${n.descendants}</td>
                            <td><a href='${n.link}' target='_blank'>跳转</a></td>
                        </tr>`;
                    });
                    html += '</table>';
                }
                // 活跃用户排行榜
                if(data.users && data.users.length > 0) {
                    html += '<h4>活跃用户排行榜</h4><ol>';
                    data.users.forEach(u => {
                        html += `<li>${u.id || u}</li>`;
                    });
                    html += '</ol>';
                }
                // 简单趋势图表（以新闻分数为例）
                const chartDom = document.getElementById('chart');
                const myChart = echarts.init(chartDom);
                const option = {
                    title: { text: '近三条热门新闻分数' },
                    tooltip: {},
                    xAxis: { type: 'category', data: data.news.map((n,i)=>'新闻'+(i+1)) },
                    yAxis: { type: 'value' },
                    series: [{
                        name: '新闻分数',
                        data: data.news.map(n=>n.score||0),
                        type: 'bar'
                    }]
                };
                myChart.setOption(option);
                document.getElementById('hnSummary').innerHTML = html;
            }
        }
    </script>

</body></html>